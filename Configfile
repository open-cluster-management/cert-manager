ARCH = $(shell uname -m)
OS ?= $(shell cat /etc/os-release | grep ^ID= | sed -e 's/ID=//' -e 's/\"//g')
GIT_REMOTE_URL = $(shell git config --get remote.origin.url)

IMAGE_DESCRIPTION =
SSH_CMD =
DOCKER_FILE_EXT =
IMAGE_NAME_ARCH_EXT = 
MANIFEST_TOOL_NAME =
GOARCH = 
OPENSHIFT_TAG =

ifeq ($(ARCH), x86_64)
	IMAGE_NAME_ARCH_EXT = -amd64
	GOARCH = amd64
	ifeq (rhel, $(findstring rhel,$(OS)))
		DOCKER_FILE_EXT = .rhel7
		OPENSHIFT_TAG = -rhel
	endif
else
	IMAGE_NAME_ARCH_EXT = -$(ARCH)
	DOCKER_FILE_EXT = .$(ARCH)
	GOARCH = $(ARCH)
endif

ifeq (rhel7, $(OS))
	SSH_CMD=ssh -o UserKnownHostsFile=/dev/null -o StrictHostKeyChecking=no root@${TARGET}
endif

DEFAULT_S390X_IMAGE ?= ibmcom/pause-s390x:3.0

PACKAGE_NAME = github.ibm.com/IBMPrivateCloud/ibm-cert-manager
APP_NAME = icp-cert-manager
IMAGE_TAGS = canary
GOPATH ?= $HOME/go
HACK_DIR ?= hack

ARTIFACTORY_USERNAME ?= 
ARTIFACTORY_PASSWORD ?= 

IMAGE_REPO ?= hyc-cloud-private-scratch-docker-local
URL ?= artifactory.swg-devops.com
NAMESPACE ?= ibmcom
